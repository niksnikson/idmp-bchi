left_join(dblp_main2, by="k", copy=TRUE) %>%
group_by(year, gender, cs, de, se, th)
dblp_main2 <- dblp_main %>%
as_tibble() %>%
gather(key = "domains", value = "values", "cs", "de", "se", "th")
dblp_authors %>%
filter(prob > 0.9 & prob < 2 & pos == 0) %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
group_by(year, gender, cs, de, se, th) %>%
summarise() %>%
as_tibble() %>%
melt(id = c("year", "gender")) %>%
filter(value == 1) %>%
ggplot(aes(year)) +
geom_bar(aes(fill = factor(gender)), position= "fill") +
facet_wrap(~variable) +
ylab("proportion")
dblp_authors %>%
filter(prob > 0.9 & prob < 2 & pos == 0) %>%
left_join(dblp_main2, copy=TRUE) %>%
group_by(year, gender, cs, de, se, th) %>%
summarise() %>%
as_tibble() %>%
melt(id = c("year", "gender")) %>%
filter(value == 1) %>%
ggplot(aes(year)) +
geom_bar(aes(fill = factor(gender)), position= "fill") +
facet_wrap(~variable) +
ylab("proportion")
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE)
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0)
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0 & values == 1)
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0 & values == 1) %>%
group_by(year, gender, domains)
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0 & values == 1) %>%
group_by(year, gender, domains) %>%
summarise()
geom_bar(aes()) +
ylab("proportion")
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0 & values == 1) %>%
group_by(year, gender, domains) %>%
summarise(men=sum(gender=='M',na.rm=TRUE), women=sum(gender=='F',na.rm=TRUE)
s
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0 & values == 1) %>%
group_by(year, gender, domains) %>%
summarise(men=sum(gender=='M',na.rm=TRUE), women=sum(gender=='F',na.rm=TRUE))
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0 & values == 1) %>%
group_by(year, gender, domains) %>%
summarise(men=sum(gender=='M',na.rm=TRUE), women=sum(gender=='F',na.rm=TRUE)) %>%
ggplot(aes(year, women/(men+women))) +
geom_bar() +
facet_wrap(~domains) +
ylab("proportion")
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0 & values == 1) %>%
group_by(year, gender, domains) %>%
summarise(men=sum(gender=='M',na.rm=TRUE), women=sum(gender=='F',na.rm=TRUE), prop = women/(men+women))
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0 & values == 1) %>%
group_by(year, gender, domains) %>%
summarise(men=sum(gender=='M',na.rm=TRUE), women=sum(gender=='F',na.rm=TRUE)) %>%
mutate(prop = women/(men+women)) %>%
ggplot(aes(year, women/(men+women))) +
geom_bar() +
facet_wrap(~domains) +
ylab("proportion")
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0 & values == 1) %>%
group_by(year, gender, domains) %>%
summarise(men=sum(gender=='M',na.rm=TRUE), women=sum(gender=='F',na.rm=TRUE)) %>%
mutate(prop = women/(men+women)) %>%
ggplot(aes(year, prop)) +
geom_bar() +
facet_wrap(~domains) +
ylab("proportion")
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0 & values == 1) %>%
group_by(year, gender, domains) %>%
summarise(men=sum(gender=='M',na.rm=TRUE), women=sum(gender=='F',na.rm=TRUE)) %>%
mutate(prop = women/(men+women)) %>%
ggplot(aes(year, prop)) +
geom_bar(stat = "identity") +
facet_wrap(~domains) +
ylab("proportion")
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0 & values == 1) %>%
group_by(year, gender, domains) %>%
summarise(men=sum(gender=='M',na.rm=TRUE), women=sum(gender=='F',na.rm=TRUE)) %>%
mutate(prop = as.double(women)/(as.double(men)+as.double(women))) %>%
ggplot(aes(year, prop)) +
geom_bar(stat = "identity") +
facet_wrap(~domains) +
ylab("proportion")
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0 & values == 1) %>%
group_by(year, gender, domains) %>%
summarise(men=sum(gender=='M',na.rm=TRUE), women=sum(gender=='F',na.rm=TRUE)) %>%
mutate(prop = as.double(women)/(as.double(men)+as.double(women)))
general1<- dblp_main%>% collect()%>%
gather(key='Domain', value = 'Domain_Val',"cs","de","se","th")
#Filtering and Plotting the Requirements
dblp_authors %>%
left_join (general1,copy=TRUE) %>% filter(pos==0,Domain_val==1,gender !="-") %>% group_by(Domain,year) %>% summarise(men_authors=sum(gender=='M',na.rm=TRUE), female_authors=sum(gender=='F',na.rm=TRUE)) %>%
collect() %>% ggplot(aes(year,female_authors/(men_authors+female_authors)))+ geom_col()+facet_wrap(~Domain)+
labs(x='YEAR',y='Proportion of First Female Authors')
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0 & values == 1) %>%
group_by(year, gender, domains) %>%
summarise(men=sum(gender=='M',na.rm=TRUE), women=sum(gender=='F',na.rm=TRUE))%>%
as_tibble() %>%
mutate(prop = as.double(women)/(as.double(men)+as.double(women))) %>%
ggplot(aes(year, prop)) +
geom_bar(stat = "identity") +
facet_wrap(~domains) +
ylab("proportion")
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0 & values == 1) %>%
group_by(year, gender, domains) %>%
summarise(men=sum(gender=='M',na.rm=TRUE), women=sum(gender=='F',na.rm=TRUE))%>%
collect() %>%
mutate(prop = as.double(women)/(as.double(men)+as.double(women))) %>%
ggplot(aes(year, prop)) +
geom_bar(stat = "identity") +
facet_wrap(~domains) +
ylab("proportion")
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0 & values == 1) %>%
group_by(year, gender, domains) %>%
summarise(men=sum(gender=='M',na.rm=TRUE), women=sum(gender=='F',na.rm=TRUE))%>%
collect() %>%
mutate(prop = as.double(women)/(as.double(men)+as.double(women))) %>%
ggplot(aes(year, prop)) +
geom_bar(stat = "identity") +
facet_wrap(~domains) +
ylab("proportion")
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0 & values == 1) %>%
group_by(year, gender, domains)
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0 & values == 1) %>%
group_by(year, gender, domains) %>%
summarise(men=sum(gender=='M',na.rm=TRUE), women=sum(gender=='F',na.rm=TRUE))
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0 & values == 1) %>%
group_by(year, gender, domains) %>%
summarise(men=sum(gender=='M',na.rm=TRUE), women=sum(gender=='F',na.rm=TRUE)) %>%
collect() %>%
mutate(prop = as.double(women)/(as.double(men)+as.double(women)))
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0 & values == 1) %>%
group_by(year, gender, domains) %>%
summarise(men=sum(gender=='M',na.rm=TRUE), women=sum(gender=='F',na.rm=TRUE)) %>%
group_by(year, domains) %>%
mutate(prop = as.double(women)/(as.double(men)+as.double(women))) %>%
ggplot(aes(year, prop)) +
geom_bar(stat = "identity") +
facet_wrap(~domains) +
ylab("proportion")
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0 & values == 1) %>%
group_by(year, gender, domains) %>%
summarise(men=sum(gender=='M',na.rm=TRUE), women=sum(gender=='F',na.rm=TRUE)) %>%
group_by(year, domains) %>%
summarize() %>%
mutate(prop = as.double(women)/(as.double(men)+as.double(women))) %>%
ggplot(aes(year, prop)) +
geom_bar(stat = "identity") +
facet_wrap(~domains) +
ylab("proportion")
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0 & values == 1) %>%
group_by(year, gender, domains) %>%
summarise(men=sum(gender=='M',na.rm=TRUE), women=sum(gender=='F',na.rm=TRUE)) %>%
group_by(year, domains) %>%
summarize()
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0 & values == 1) %>%
group_by(year, gender, domains) %>%
summarise(men=sum(gender=='M',na.rm=TRUE), women=sum(gender=='F',na.rm=TRUE)) %>%
group_by(year, domains) %>%
summarize(prop = as.double(women)/(as.double(men)+as.double(women))) %>%
ggplot(aes(year, prop)) +
geom_bar(stat = "identity") +
facet_wrap(~domains) +
ylab("proportion")
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0 & values == 1) %>%
group_by(year, gender, domains) %>%
summarise(men=sum(gender=='M',na.rm=TRUE), women=sum(gender=='F',na.rm=TRUE)) %>%
group_by(year, domains) %>%
summarize(prop = as.double(women)/(as.double(men)+as.double(women)))
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0 & values == 1) %>%
group_by(year, gender, domains) %>%
summarise(men=sum(gender=='M',na.rm=TRUE), women=sum(gender=='F',na.rm=TRUE)) %>%
group_by(year, domains) %>%
summarize(men, women, prop = as.double(women)/(as.double(men)+as.double(women))) %>%
ggplot(aes(year, prop)) +
geom_bar(stat = "identity") +
facet_wrap(~domains) +
ylab("proportion")
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0 & values == 1) %>%
group_by(year, gender, domains) %>%
summarise(men=sum(gender=='M',na.rm=TRUE), women=sum(gender=='F',na.rm=TRUE)) %>%
group_by(year, domains) %>%
summarize(men, women, prop <-  as.double(women)/(as.double(men)+as.double(women))) %>%
ggplot(aes(year, prop)) +
geom_bar(stat = "identity") +
facet_wrap(~domains) +
ylab("proportion")
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0 & values == 1) %>%
group_by(year, gender, domains) %>%
summarise(men=sum(gender=='M',na.rm=TRUE), women=sum(gender=='F',na.rm=TRUE)) %>%
group_by(year, domains) %>%
summarize(men, women))
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0 & values == 1) %>%
group_by(year, gender, domains) %>%
summarise(men=sum(gender=='M',na.rm=TRUE), women=sum(gender=='F',na.rm=TRUE)) %>%
group_by(year, domains) %>%
summarize(men, women)
dblp_authors %>%
left_join (general1,copy=TRUE) %>% filter(pos==0,Domain_val==1,gender !="-") %>% group_by(Domain,year) %>% summarise(men_authors=sum(gender=='M',na.rm=TRUE), female_authors=sum(gender=='F',na.rm=TRUE)) %>%
collect()
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0 & values == 1) %>%
group_by(year, domains) %>%
summarise(men=sum(gender=='M',na.rm=TRUE), women=sum(gender=='F',na.rm=TRUE))
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0 & values == 1) %>%
group_by(year, domains) %>%
summarise(men=sum(gender=='M',na.rm=TRUE), women=sum(gender=='F',na.rm=TRUE)) %>%
mutate(prop = women/(men+women)) %>%
ggplot(aes(year, prop)) +
geom_bar(stat = "identity") +
facet_wrap(~domains) +
ylab("proportion")
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0 & values == 1) %>%
group_by(year, domains) %>%
summarise(men=sum(gender=='M',na.rm=TRUE), women=sum(gender=='F',na.rm=TRUE)) %>%
mutate(prop = women/(men+women))
dblp_authors %>%
left_join(dblp_main2, by="k", copy=TRUE) %>%
filter(prob > 0.9 & prob < 2 & pos == 0 & values == 1) %>%
group_by(year, domains) %>%
summarise(men=sum(gender=='M',na.rm=TRUE), women=sum(gender=='F',na.rm=TRUE)) %>%
mutate(prop = as.double(women)/(as.double(men)+as.double(women))) %>%
ggplot(aes(year, prop)) +
geom_bar(stat = "identity") +
facet_wrap(~domains) +
ylab("proportion")
setwd("~/Documents/College_NEU/SPRING-20/DS-5110/Project/idmp-bchi")
library(tidyverse)
data = read.csv("BCHI-dataset_2019-03-04.csv")
names(data)
head(data)
head(data[1:5])
head(data[,1:5])
head(data[,1])
head(data[1])
head(data[1:2])
data %>%
filter(Indicator.Category=="Behaviioral Health/Substance Abuse")
data %>%
filter(Indicator.Category=="Behavioral Health/Substance Abuse")
data %>%
filter(Indicator.Category=="Behavioral Health/Substance Abuse") %>%
head()[1]
data %>%
filter(Indicator.Category=="Behavioral Health/Substance Abuse") %>%
names(data)
data %>%
filter(Indicator.Category=="Behavioral Health/Substance Abuse") %>%
names(data)
data = read.csv("BCHI-dataset_2019-03-04.csv")
data %>%
filter(Indicator.Category=="Behavioral Health/Substance Abuse") %>%
names(data)
names(data)
data %>%
filter(Indicator.Category=="Behavioral Health/Substance Abuse") %>%
ggplot(aes(Year)) +
geom_histogram()
data %>%
ggplot(aes(Year)) +
geom_histogram()
data %>%
filter(Year==2018)
data[1] %>%
filter(Year==2018)
data[5] %>%
filter(Year==2018)
data[5,] %>%
filter(Year==2018)
data[5,] %>%
filter(Year==2016)
data[5,] %>%
filter(Year=="2016")
data[,5] %>%
filter(Year=="2016")
data[,5] %>%
filter(Year==2016)
data[] %>%
filter(Year==2016)
data[] %>%
filter(Year==2018)
data[] %>%
filter(Year==2018)
data[] %>%
filter(Year!=2018 && Year!=2017)
data[] %>%
filter(Year!=2018 && Year!=2017)
ggplot(aes(Year)) +
geom_histogram()
data = read.csv("BCHI-dataset_2019-03-04.csv")
data %>%
filter(Year!=2018 && Year!=2017)
data %>%
filter(Year!=2018 && Year!=2017) %>%
ggplot(aes(Year)) +
geom_histogram()
data %>%
filter(Year!="2018" && Year!="2017") %>%
ggplot(aes(Year)) +
geom_histogram()
data %>%
filter(Year!="2018" && Year!="2017") %>%
ggplot(aes(Year)) +
geom_histogram()
data %>%
filter(Year!="2018" && Year!=2016) %>%
ggplot(aes(Year)) +
geom_histogram()
data %>%
filter(Year!=2016) %>%
ggplot(aes(Year)) +
geom_histogram()
data %>%
filter(Year!=2017 && Year!=2018) %>%
ggplot(aes(Year)) +
geom_histogram()
data %>%
filter(Year!=2018)
data %>%
filter(Year==2018)
data %>%
filter(Year==2017)
data[15] %>%
filter(Year==2017)
data[15,] %>%
filter(Year==2017)
data[,15] %>%
filter(Year==2017)
data %>%
ggplot(aes(Year)) %>%
geom_bar(Year, y= ..prop..)
data %>%
ggplot() %>%
geom_bar(aes=(Year, y= ..prop..))
data %>%
ggplot() %>%
geom_bar(aes(x=Year, y=..prop..,group=1))
data %>%
ggplot() %>%
geom_bar(mapping=aes(x=Year, y=..prop..,group=1))
data %>%
ggplot() +
geom_bar(mapping=aes(x=Year, y=..prop..,group=1))
data %>%
ggplot() +
geom_bar(mapping=aes(x=Year, y=..prop..,group=1)) +
ylab("Proportion")
data %>%
ggplot() +
geom_bar(mapping=aes(x=Year, y=..prop..,group=1), color = "orange") +
ylab("Proportion")
data %>%
ggplot() +
geom_bar(mapping=aes(x=Year, y=..prop..,group=1), fill = "orange") +
ylab("Proportion")
data %>%
ggplot() +
geom_bar(mapping=aes(x=Year, y=..prop..,group=1), fill = "orange", color="black") +
ylab("Proportion")
data %>%
ggplot() +
geom_bar(mapping=aes(x=Year, y=..prop..,group=1), fill = "orange") +
ylab("Proportion")
data %>%
ggplot() +
geom_bar(mapping=aes(x=Year, y=..prop..,group=1), fill = "blue") +
ylab("Proportion")
data %>%
ggplot() +
geom_bar(mapping=aes(x=Year, y=..prop..,group=1), fill = "light blue") +
ylab("Proportion")
data %>%
ggplot() +
geom_bar(mapping=aes(x=Year, y=..prop..,group=1), fill = "teal") +
ylab("Proportion")
data %>%
ggplot() +
geom_bar(mapping=aes(x=Year, y=..prop..,group=1), fill = "blue") +
ylab("Proportion")
data %>%
ggplot() +
geom_histogram(mapping=aes(x=Year), fill = "blue") +
ylab("Proportion")
..prop..
orange
data %>%
ggplot() +
geom_bar(mapping=aes(x=Year, y=..prop..,group=1), fill = "orange") +
ylab("Proportion")
data %>%
ggplot() +
geom_bar(mapping=aes(x=Year, y=..prop..,group=1), fill = "blue") +
ylab("Proportion")
data %>%
ggplot() +
geom_bar(mapping=aes(x=Year, y=..prop..,group=1), fill = "red") +
ylab("Proportion")
data %>%
ggplot() +
geom_bar(mapping=aes(x=Year, y=..prop..,group=1), fill = "green") +
ylab("Proportion")
data %>%
ggplot() +
geom_bar(mapping=aes(x=Year, y=..prop..,group=1), fill = "blue") +
ylab("Proportion")
data %>%
ggplot() +
geom_bar(mapping=aes(x=Year, y=n(),group=1), fill = "blue") +
ylab("Proportion")
data %>%
ggplot() +
geom_bar(mapping=aes(x=Year, y=n()), fill = "blue") +
ylab("Proportion")
data %>%
ggplot() +
geom_histogram(mapping=aes(x=Year), width=2, fill = "blue") +
ylab("Proportion")
data %>%
ggplot() +
geom_histogram(mapping=aes(x=Year), binwidth=2, fill = "blue") +
ylab("Proportion")
data %>%
ggplot() +
geom_histogram(mapping=aes(x=Year), binwidth=1, fill = "blue") +
ylab("Proportion")
data %>%
ggplot() +
geom_histogram(mapping=aes(x=Year), binwidth=0.5, fill = "blue") +
ylab("Proportion")
data %>%
ggplot() +
geom_histogram(mapping=aes(x=Year), binwidth=0.7, fill = "blue") +
ylab("Proportion")
data %>%
ggplot() +
geom_histogram(mapping=aes(x=Year), binwidth=0.6, fill = "blue") +
ylab("Proportion")
data %>%
ggplot() +
geom_histogram(mapping=aes(x=Year), binwidth=0.5, fill = "blue") +
ylab("Proportion")
data %>%
ggplot() +
geom_histogram(mapping=aes(x=Year), binwidth=0.5, fill = "blue") +
ylab("Count")
